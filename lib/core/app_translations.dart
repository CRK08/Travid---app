import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:travid/core/providers.dart';

// Simple translation map
class AppTranslations {
  static const Map<String, Map<String, String>> _localizedValues = {
    'en': {
      // Home
      'app_title': 'Travid',
      'app_subtitle': 'Voice-First Travel Assistant',
      'wake_word_card': 'Wake Word',
      'wake_word_desc': 'Say "Hey Travid" to activate',
      'bus_card': 'Find Buses',
      'bus_desc': 'Ask "Find bus to..."',
      'nav_card': 'Navigate',
      'nav_desc': 'Say "Navigate to..."',
      'chat_card': 'Chat',
      'chat_desc': 'Ask anything about travel',
      'voice_settings_card': 'Voice Settings',
      'voice_settings_desc': 'Customize voice speed & accent',
      'quick_tips': 'Quick Tips',
      'tip_continuous': 'Voice works continuously - no need to tap',
      'tip_stop': 'Say "Stop" to pause voice assistant',
      'tip_wake': 'Use wake word mode for hands-free',
      'tip_features': 'All features accessible via voice or touch',
      
      // Bus
      'bus_title': 'Bus Finder',
      'from_label': 'From',
      'to_label': 'To',
      'from_hint': 'Enter starting point',
      'to_hint': 'Enter destination',
      'search_btn': 'Search',
      'enter_route': 'Enter or say your bus route',
      'no_buses': 'No buses found',
      'found_buses': 'Found buses',
      
      // Map
      'map_theme': 'Map Theme',
      'directions': 'Directions',
      'close': 'Close',
      'simulate': 'Simulate',
      'start_nav': 'Start Navigation',
      
      // Chat
      'chat_title': 'Travid AI',
      'new_chat': 'New Chat',
      'chat_history': 'Chat History',
      'clear_history': 'Clear History',
      'type_message': 'Type a message...',
      'no_history': 'No chat history',
      'start_conversation': 'Start a new conversation!',
      'clear_history_confirm': 'Clear All History?',
      'action_undone': 'This cannot be undone.',
      'clear': 'Clear',
      'greeting_message': "Hello! I'm Travid. How can I help you navigate today?",
      
      // Profile & Settings
      'profile_title': 'Profile',
      'edit_profile': 'Edit Profile',
      'appearance': 'Appearance',
      'dark_mode': 'Dark Mode',
      'language': 'Language',
      'text_size': 'Text Size',
      'voice_audio': 'Voice & Audio',
      'speech_rate': 'Speech Rate',
      'voice_enabled': 'Voice Enabled',
      'wake_word': 'Wake Word Detection',
      'continuous_mode': 'Continuous Listening',
      'bus_alerts': 'Bus Arrival Alerts',
      'general': 'General',
      'logout': 'Logout',
      'logout_success': 'Logged out',
      'logout_error': 'Error logging out',
      'about': 'About Travid',
      'save': 'Save',
      'cancel': 'Cancel',
      'edit_name': 'Edit Name',
      'full_name': 'Full Name',
      'name_updated': 'Name updated',
      'error': 'Error',
      'history_cleared': 'History Cleared',
      'edit_profile_title': 'Edit Profile',
      'change_photo': 'Tap to change photo',
      'email': 'Email',
      'phone': 'Phone Number',
      'save_changes': 'Save Changes',
      'profile_updated': 'Profile updated successfully!',
      'profile_update_error': 'Failed to update profile',
      'pick_image_error': 'Failed to pick image',
      'take_photo': 'Take Photo',
      'choose_gallery': 'Choose from Gallery',
      'remove_photo': 'Remove Photo',
      'voice_settings': 'Voice Settings',
      'voice_selection': 'Voice Selection',
      'gender': 'Gender',
      'accent': 'Accent',
      'available_voices': 'Available Voices',
      'voice_parameters': 'Voice Parameters',
      'preview': 'Preview',
      'test_greeting': 'Test Greeting',
      'test_nav': 'Test Navigation',
      'test_bus': 'Test Bus Info',
      'male': 'Male',
      'female': 'Female',
      'any': 'Any',
      'us_english': 'US English',
      'uk_english': 'UK English',
      'indian_english': 'Indian English',
      'au_english': 'Australian English',
      'no_voices': 'No voices found',
    },
    'ta': {
      // Home
      'app_title': 'டிராவிட்',
      'app_subtitle': 'குரல் வழி பயண உதவியாளர்',
      'wake_word_card': 'அழைப்புச் சொல்',
      'wake_word_desc': '"ஹே டிராவிட்" என்று கூறவும்',
      'bus_card': 'பேருந்தைக் கண்டுபிடி',
      'bus_desc': '"காந்திபுரம் பேருந்து எங்குள்ளது" என கேட்கவும்',
      'nav_card': 'வழிசெலுத்து',
      'nav_desc': '"மதுரைக்கு வழி காட்டு" என சொல்லவும்',
      'chat_card': 'உரையாடல்',
      'chat_desc': 'பயணம் குறித்து எதையும் கேட்கலாம்',
      'voice_settings_card': 'குரல் அமைப்புகள்',
      'voice_settings_desc': 'வேகம் மற்றும் குரலை மாற்றவும்',
      'quick_tips': 'குறிப்புகள்',
      'tip_continuous': 'குரல் எப்போதும் இயங்கும் - தட்டத் தேவையில்லை',
      'tip_stop': 'நிறுத்த "ஸ்டாப்" அல்லது "நிறுத்து" என சொல்லவும்',
      'tip_wake': 'கைகள் இல்லாமல் இயக்க அழைப்புச் சொல்லைப் பயன்படுத்தவும்',
      'tip_features': 'அனைத்து வசதிகளும் குரல் மூலம் இயக்கலாம்',

      // Bus
      'bus_title': 'பேருந்து தேடல்',
      'from_label': 'எங்கிருந்து',
      'to_label': 'எங்கு',
      'from_hint': 'புறப்படும் இடம்',
      'to_hint': 'செல்லும் இடம்',
      'search_btn': 'தேடு',
      'enter_route': 'உங்கள் பேருந்து வழியை உள்ளிடவும்',
      'no_buses': 'பேருந்துகள் இல்லை',
      'found_buses': 'பேருந்துகள் கண்டறியப்பட்டன',

      // Map
      'map_theme': 'வரைபட பாணி',
      'directions': 'வழிகள்',
      'close': 'மூடு',
      'simulate': 'முன்னோட்டம்',
      'start_nav': 'வழிசெலுத்தலைத் தொடங்கு',

      // Chat
      'chat_title': 'டிராவிட் AI',
      'new_chat': 'புதிய உரையாடல்',
      'chat_history': 'வரலாறு',
      'clear_history': 'வரலாற்றை அழி',
      'type_message': 'செய்தியை தட்டச்சு செய்யவும்...',
      'no_history': 'வரலாறு இல்லை',
      'start_conversation': 'புதிய உரையாடலைத் தொடங்கவும்!',
      'clear_history_confirm': 'வரலாற்றை அழிக்கவா?',
      'action_undone': 'இதை செயல்தவிர்க்க முடியாது.',
      'clear': 'அழி',
      'greeting_message': "வணக்கம்! நான் டிராவிட். இன்று உங்களுக்கு எப்படி உதவ முடியும்?",

      // Profile & Settings
      'profile_title': 'சுயவிவரம்',
      'edit_profile': 'சுயவிவரத்தைத் திருத்து',
      'appearance': 'தோற்றம்',
      'dark_mode': 'இரவு முறை',
      'language': 'மொழி',
      'text_size': 'எழுத்து அளவு',
      'voice_audio': 'குரல் & ஒலி',
      'speech_rate': 'பேச்சு வேகம்',
      'voice_enabled': 'குரல் உதவி',
      'wake_word': 'அழைப்புச் சொல் கண்டறிதல்',
      'continuous_mode': 'தொடர் கவனிப்பு',
      'bus_alerts': 'பேருந்து வருகை அறிவிப்புகள்',
      'general': 'பொதுவானவை',
      'logout': 'வெளியேறு',
      'logout_success': 'வெளியேறினீர்கள்',
      'logout_error': 'வெளியேறுவதில் பிழை',
      'about': 'டிராவிட் பற்றி',
      'save': 'சேமி',
      'cancel': 'ரத்து',
      'edit_name': 'பெயரைத் திருத்து',
      'full_name': 'முழு பெயர்',
      'name_updated': 'பெயர் புதுப்பிக்கப்பட்டது',
      'error': 'பிழை',
      'history_cleared': 'வரலாறு அழிக்கப்பட்டது',
      'edit_profile_title': 'சுயவிவரத்தைத் திருத்து',
      'change_photo': 'புகைப்படத்தை மாற்ற தட்டவும்',
      'email': 'மின்னஞ்சல்',
      'phone': 'தொலைபேசி எண்',
      'save_changes': 'மாற்றங்களை சேமி',
      'profile_updated': 'சுயவிவரம் வெற்றிகரமாக புதுப்பிக்கப்பட்டது!',
      'profile_update_error': 'சுயவிவரத்தைப் புதுப்பிக்க முடியவில்லை',
      'pick_image_error': 'படத்தைத் தேர்ந்தெடுக்க முடியவில்லை',
      'take_photo': 'புகைப்படம் எடு',
      'choose_gallery': 'கேலரியில் இருந்து தேர்வு செய்யவும்',
      'remove_photo': 'புகைப்படத்தை அகற்று',
      'voice_settings': 'குரல் அமைப்புகள்',
      'voice_selection': 'குரல் தேர்வு',
      'gender': 'பாலினம்',
      'accent': 'உச்சரிப்பு',
      'available_voices': 'கிடைக்கும் குரல்கள்',
      'voice_parameters': 'குரல் அளவுருக்கள்',
      'preview': 'முன்னோட்டம்',
      'test_greeting': 'சோதனை வாழ்த்து',
      'test_nav': 'வழிசெலுத்தல் சோதனை',
      'test_bus': 'பேருந்து தகவல் சோதனை',
      'male': 'ஆண்',
      'female': 'பெண்',
      'any': 'எதுவும்',
      'us_english': 'யுஎஸ் ஆங்கிலம்',
      'uk_english': 'யுகே ஆங்கிலம்',
      'indian_english': 'இந்திய ஆங்கிலம்',
      'au_english': 'ஆஸ்திரேலிய ஆங்கிலம்',
      'no_voices': 'குரல்கள் எதுவும் கிடைக்கவில்லை',
    },
  };

  static String get(String key, String langCode) {
    return _localizedValues[langCode]?[key] ?? _localizedValues['en']![key] ?? key;
  }
}

// Extension for easier usage
extension TranslationExtension on String {
  String tr(WidgetRef ref) {
    final lang = ref.watch(settingsProvider).language;
    return AppTranslations.get(this, lang);
  }
}
